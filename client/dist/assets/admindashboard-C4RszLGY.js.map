{"version":3,"file":"admindashboard-C4RszLGY.js","sources":["../../src/pages/admindashboard.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { api } from \"../utils/api.js\";\r\n\r\nexport default function AdminDashboard() {\r\n  const [stats, setStats] = useState(null);\r\n\r\n  useEffect(() => {\r\n    api(\"/api/admin/stats\")\r\n      .then(r=>r.json())\r\n      .then(setStats)\r\n      .catch(()=>setStats({\r\n        boxes_total:\"—\",\r\n        boxes_onTour:\"—\",\r\n        boxes_pending:\"—\",\r\n        users:\"—\",\r\n        last_backup:\"—\",\r\n      }));\r\n  }, []);\r\n\r\n  if (!stats) return <div className=\"p-6\">Lade …</div>;\r\n\r\n  return (\r\n    <div className=\"p-6 space-y-8\">\r\n      <h1 className=\"text-2xl font-bold\">Admin-Dashboard</h1>\r\n\r\n      <div className=\"grid gap-4 sm:grid-cols-2 lg:grid-cols-3\">\r\n        <Stat label=\"Boxen gesamt\"    val={stats.boxes_total} />\r\n        <Stat label=\"Unterwegs\"       val={stats.boxes_onTour} />\r\n        <Stat label=\"Ungeprüft\"       val={stats.boxes_pending} />\r\n        <Stat label=\"User\"            val={stats.users} />\r\n        <Stat label=\"Letztes Backup\"  val={stats.last_backup} wide />\r\n      </div>\r\n\r\n      <div className=\"flex flex-wrap gap-4\">\r\n        <Link to=\"/boxmanage\"      className=\"btn\">Box-Pflege</Link>\r\n        <Link to=\"/usermanagement\" className=\"btn btn-primary\">Benutzer</Link>\r\n        <Link to=\"/backuprestore\"  className=\"btn btn-secondary\">Backup</Link>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Stat({ label, val, wide=false }) {\r\n  return (\r\n    <div className={`card bg-base-100 shadow ${wide ? \"sm:col-span-2\" : \"\"}`}>\r\n      <div className=\"card-body p-4\">\r\n        <p className=\"text-sm opacity-60\">{label}</p>\r\n        <p className=\"text-2xl font-bold\">{val}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["AdminDashboard","stats","setStats","useState","useEffect","api","r","jsxs","jsx","Stat","Link","label","val","wide"],"mappings":"uFAIA,SAAwBA,GAAiB,CACvC,KAAM,CAACC,EAAOC,CAAQ,EAAIC,EAAAA,SAAS,IAAI,EAevC,OAbAC,EAAAA,UAAU,IAAM,CACdC,EAAI,kBAAkB,EACnB,KAAKC,GAAGA,EAAE,KAAA,CAAM,EAChB,KAAKJ,CAAQ,EACb,MAAM,IAAIA,EAAS,CAClB,YAAY,IACZ,aAAa,IACb,cAAc,IACd,MAAM,IACN,YAAY,GAAA,CACb,CAAC,CACN,EAAG,CAAA,CAAE,EAEAD,EAGHM,EAAAA,KAAC,MAAA,CAAI,UAAU,gBACb,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,qBAAqB,SAAA,kBAAe,EAElDD,EAAAA,KAAC,MAAA,CAAI,UAAU,2CACb,SAAA,CAAAC,EAAAA,IAACC,EAAA,CAAK,MAAM,eAAkB,IAAKR,EAAM,YAAa,QACrDQ,EAAA,CAAK,MAAM,YAAkB,IAAKR,EAAM,aAAc,QACtDQ,EAAA,CAAK,MAAM,YAAkB,IAAKR,EAAM,cAAe,QACvDQ,EAAA,CAAK,MAAM,OAAkB,IAAKR,EAAM,MAAO,EAChDO,MAACC,GAAK,MAAM,iBAAkB,IAAKR,EAAM,YAAa,KAAI,EAAA,CAAC,CAAA,EAC7D,EAEAM,EAAAA,KAAC,MAAA,CAAI,UAAU,uBACb,SAAA,CAAAC,MAACE,EAAA,CAAK,GAAG,aAAkB,UAAU,MAAM,SAAA,aAAU,QACpDA,EAAA,CAAK,GAAG,kBAAkB,UAAU,kBAAkB,SAAA,WAAQ,QAC9DA,EAAA,CAAK,GAAG,iBAAkB,UAAU,oBAAoB,SAAA,QAAA,CAAM,CAAA,CAAA,CACjE,CAAA,EACF,QAnBkB,MAAA,CAAI,UAAU,MAAM,SAAA,SAAM,CAqBhD,CAEA,SAASD,EAAK,CAAE,MAAAE,EAAO,IAAAC,EAAK,KAAAC,EAAK,IAAS,CACxC,OACEL,EAAAA,IAAC,MAAA,CAAI,UAAW,2BAA2BK,EAAO,gBAAkB,EAAE,GACpE,SAAAN,OAAC,MAAA,CAAI,UAAU,gBACb,SAAA,CAAAC,EAAAA,IAAC,IAAA,CAAE,UAAU,qBAAsB,SAAAG,EAAM,EACzCH,EAAAA,IAAC,IAAA,CAAE,UAAU,qBAAsB,SAAAI,CAAA,CAAI,CAAA,CAAA,CACzC,CAAA,CACF,CAEJ"}